












<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Coin Flip Mini-Game</title>

<!-- Tailwind CSS for styling -->
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&display=swap" rel="stylesheet">

<style>
body {
  font-family: 'Space Grotesk', sans-serif;
  background: linear-gradient(135deg, #001f3f, #0a2540);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  min-height: 100vh;
  color: white;
  padding: 30px;
  text-align: center;
}

h1 { font-size: 2.5rem; margin-bottom: 15px; color: #0ff; text-shadow: 0 0 8px cyan; }
.scoreboard { font-size: 1.2rem; margin-bottom: 20px; }
.coin { width: 120px; height: 120px; border-radius: 50%; margin: 20px auto; line-height: 120px; font-weight: bold; border: 4px solid gold; display: flex; justify-content: center; align-items: center; font-size: 1.1rem; transition: transform 1s ease-in-out; }
.result-box { margin: 20px auto; font-size: 1.25rem; font-weight: bold; padding: 15px; border: 2px solid #0ff; width: 280px; border-radius: 12px; text-align: center; color: #0ff; background: rgba(0,0,0,0.3); }

button {
  padding: 16px 28px; /* bigger buttons */
  font-size: 20px;     /* larger text */
  border: 2px solid #0ff;
  border-radius: 12px;
  cursor: pointer;
  background-color: #0a2540;
  color: #0ff;
  font-weight: bold;
  margin: 5px;
  transition: 0.15s;
}
button:active { transform: scale(0.97); }
.flex-buttons { display: flex; justify-content: center; gap: 25px; margin-top: 15px; }
</style>
</head>
<body>

<h1>ðŸŽ² Coin Flip Arena</h1>

<div class="scoreboard">
  Wins: <span id="wins">0</span> | Losses: <span id="losses">0</span> | ðŸ’° Tokens: <span id="walletBalance">0</span>
</div>

<div class="coin" id="coin">?</div>

<div class="result-box" id="resultBox">Choose Heads or Tails!</div>

<div class="flex-buttons">
  <button id="headsBtn">Heads</button>
  <button id="tailsBtn">Tails</button>
</div>

<div class="mt-6">
  <button onclick="window.close()">â¬… Back to RPG</button>
</div>

<script>
let wins = 0;
let losses = 0;

// Load wallet from RPG localStorage
let wallet = JSON.parse(localStorage.getItem('rpgWallet')) || { tokens: 1000 };
document.getElementById('walletBalance').innerText = wallet.tokens;

const winsSpan = document.getElementById('wins');
const lossesSpan = document.getElementById('losses');
const coinDiv = document.getElementById('coin');
const resultBox = document.getElementById('resultBox');

function saveWallet() {
  localStorage.setItem('rpgWallet', JSON.stringify(wallet));
  document.getElementById('walletBalance').innerText = wallet.tokens;
}

function flipCoin(playerGuess) {
  coinDiv.textContent = "?";
  const spins = Math.floor(Math.random() * 6 + 3);
  const rotationDegrees = spins * 360;

  coinDiv.style.transition = `transform 1s ease-in-out`;
  coinDiv.style.transform = `rotateY(${rotationDegrees}deg)`;

  setTimeout(() => {
    const flipResult = Math.random() < 0.5 ? 'heads' : 'tails';
    coinDiv.textContent = flipResult.charAt(0).toUpperCase() + flipResult.slice(1);

    // Random token math
    let reward = Math.floor(Math.random() * 100) + 20;   // 20â€“120 tokens
    let penalty = Math.floor(Math.random() * 31) + 70;   // 70â€“100 tokens

    if (playerGuess === flipResult) {
      wins++;
      wallet.tokens += reward;
      resultBox.textContent = `You Win! +${reward} tokens ðŸŽ‰`;
    } else {
      losses++;
      wallet.tokens = Math.max(0, wallet.tokens - penalty);
      resultBox.textContent = `You Lose! -${penalty} tokens âš ï¸`;
    }

    winsSpan.textContent = wins;
    lossesSpan.textContent = losses;
    saveWallet();
  }, 1000);
}

// Button events
document.getElementById('headsBtn').addEventListener('click', () => flipCoin('heads'));
document.getElementById('tailsBtn').addEventListener('click', () => flipCoin('tails'));
</script>

</body>
</html>